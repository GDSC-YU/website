<script lang="ts">
	import Spacer from '$lib/Spacer.svelte';
	import TeamContainer from './ui/TeamContainer.svelte';
	import TeamButton from './ui/TeamButton.svelte';
	import { year } from '$lib/store';

	let areShown = false;
	let teamSection: HTMLElement;

	const toggleMembers = () => {
		areShown = !areShown;
		if (!areShown) {
			teamSection.scrollIntoView();
		}
	};

	let selectedYear = '';
	year.subscribe((value) => {
		selectedYear = value;
	});
</script>

<section id="team" bind:this={teamSection}>
	<!-- Wave Shape And Heading Text -->
	<Spacer
		title={selectedYear === '2023-2024' ? 'Meet The Team!' : 'GDSC ' + selectedYear + ' team'}
		color="yellow"
	/>
	<!-- Content -->
	<div class="flex flex-col items-center gap-y-10 px-2 py-5 md:gap-y-12 lg:px-5">
		<TeamContainer team="" />
		{#if areShown}
			<TeamContainer team="Tech Team ðŸ’»" />
			<TeamContainer team="Art Department ðŸŽ¨" />
			<TeamContainer team="Communications and PR ðŸ“§" />
			<TeamContainer team="Content Creators ðŸ¤³" />
		{/if}
		<TeamButton showMembers={areShown} onClick={toggleMembers} />
	</div>
</section>
